<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Verbos em Portugu√™s</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        h1 {
            font-size: 32px;
            color: #333;
        }
        p {
            font-size: 20px;
            color: #333;
        }
        .highlight {
            font-weight: bold;
            color: #2a7ae2; /* –°–∏–Ω–∏–π —Ü–≤–µ—Ç */
        }
        .small-text {
            font-size: 18px;
            color: gray;
        }
        input {
            margin: 15px 0;
            padding: 10px;
            font-size: 16px;
            width: 60%;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: 1px solid #ccc;
            background-color: #f0f0f0;
            transition: 0.3s;
        }
        button:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <h1>Escolha o modo de jogo</h1>
    <div id="game-area">
        <p>
            <span class="highlight" id="pronoun">–º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ</span>
            <span>,</span>
            <span class="highlight" id="verb">–≥–ª–∞–≥–æ–ª</span>
            <span class="small-text" id="translation">(–ø–µ—Ä–µ–≤–æ–¥)</span>
        </p>
        <input type="text" id="answer" placeholder="Digite a forma correta">
        <button id="submit">Enviar Resposta</button>
        <p id="feedback"></p>
        <button id="next" style="display: none;">Pr√≥ximo</button>
    </div>

    <script>
        let regularVerbs = {};
        let translations = {};
        const pronouns = ["eu", "tu", "ele/ela/voc√™", "n√≥s", "eles/elas/voc√™s"];
        let currentVerb = null;
        let currentPronounIndex = null;

        const pronounElement = document.getElementById("pronoun");
        const verbElement = document.getElementById("verb");
        const translationElement = document.getElementById("translation");
        const feedbackElement = document.getElementById("feedback");
        const answerInput = document.getElementById("answer");
        const nextButton = document.getElementById("next");

        // –ó–∞–≥—Ä—É–∑–∫–∞ JSON-—Ñ–∞–π–ª–∞ —Å –≥–ª–∞–≥–æ–ª–∞–º–∏
        async function loadVerbs() {
            try {
                const response = await fetch('verbs.json');
                const data = await response.json();
                regularVerbs = data.regularVerbs;
                translations = data.translations;
                generateExercise();
            } catch (error) {
                console.error("Erro ao carregar os verbos:", error);
            }
        }

        document.getElementById("submit").addEventListener("click", () => {
            checkAnswer();
        });

        nextButton.addEventListener("click", () => {
            nextButton.style.display = "none";
            generateExercise();
        });

        function generateExercise() {
            feedbackElement.textContent = "";
            answerInput.value = "";

            // –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –≥–ª–∞–≥–æ–ª–∞ –∏ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è
            const verbs = Object.keys(regularVerbs);
            currentVerb = verbs[Math.floor(Math.random() * verbs.length)];
            currentPronounIndex = Math.floor(Math.random() * pronouns.length);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            const pronoun = pronouns[currentPronounIndex];
            const translation = translations[currentVerb];

            pronounElement.textContent = pronoun; // –ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ
            verbElement.textContent = currentVerb; // –ì–ª–∞–≥–æ–ª
            translationElement.textContent = `(${translation})`; // –ü–µ—Ä–µ–≤–æ–¥
        }

        function checkAnswer() {
            const correctForms = regularVerbs[currentVerb];
            const correctAnswer = correctForms[currentPronounIndex];
            const userAnswer = answerInput.value.trim();

            if (userAnswer === correctAnswer) {
                feedbackElement.textContent = "Resposta correta! üéâ";
                feedbackElement.style.color = "green";
            } else {
                feedbackElement.textContent = `Resposta incorreta. A forma correta √©: ${correctAnswer}`;
                feedbackElement.style.color = "red";
            }
            nextButton.style.display = "inline";
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≥–æ–ª–æ–≤
        loadVerbs();
    </script>
</body>
</html>
